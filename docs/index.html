<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MUD Dungeon System - v1.0.0</title><meta name="description" content="Documentation for MUD Dungeon System"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">MUD Dungeon System - v1.0.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>MUD Dungeon System - v1.0.0</h1></div><div class="tsd-panel tsd-typography"><p><a href="https://jackindisguise.github.io/mud-dungeon-template/"><img src="https://img.shields.io/badge/documentation-orange" alt="Static Badge"></a></p>
<h1 id="mud-dungeon-system" class="tsd-anchor-link">MUD Dungeon System<a href="#mud-dungeon-system" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A 3D room/grid system for text-based games (MUDs). It provides room objects, containment hierarchies, movement primitives, an extensible linking system for non-Euclidean portals, and a persistent dungeon registry for serialization and cross-dungeon references.</p>
<h2 id="directional-movement" class="tsd-anchor-link">Directional movement<a href="#directional-movement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><code>DIRECTION</code> — enum of cardinal, vertical and composite directions</li>
<li><code>dir2text(dir)</code> — convert a DIRECTION to human-readable text</li>
<li><code>dir2reverse(dir)</code> — returns the opposite direction</li>
</ul>
<h3 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-0">enum</span><span class="hl-1"> </span><span class="hl-2">DIRECTION</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-3">NORTH</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">SOUTH</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">EAST</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">WEST</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">UP</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">DOWN</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">NORTHEAST</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">NORTHWEST</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">SOUTHEAST</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-3">SOUTHWEST</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-5">dir2text</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">)); </span><span class="hl-6">// &quot;north&quot;</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-5">dir2reverse</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">)); </span><span class="hl-6">// DIRECTION.SOUTH</span>
</code><button type="button">Copy</button></pre>

<h2 id="dungeon-and-rooms" class="tsd-anchor-link">Dungeon and Rooms<a href="#dungeon-and-rooms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use <code>Dungeon</code> to create a 3D grid of rooms. Rooms are addressed by <code>{x, y, z}</code> coordinates.</p>
<pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">dungeon</span><span class="hl-1"> = </span><span class="hl-4">Dungeon</span><span class="hl-1">.</span><span class="hl-5">generateEmptyDungeon</span><span class="hl-1">({ </span><br/><span class="hl-1">	</span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">&quot;castle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">dimensions:</span><span class="hl-1"> { </span><span class="hl-4">width:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">height:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">layers:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1"> } </span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1"> = </span><span class="hl-4">dungeon</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">northRoom</span><span class="hl-1"> = </span><span class="hl-4">room</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Rooms are <code>DungeonObject</code>s and support containment, naming (keywords/display/description), and movement hooks:</p>
<ul>
<li><code>canEnter(movable, direction?)</code> — override to restrict entry</li>
<li><code>canExit(movable, direction?)</code> — override to restrict exiting</li>
<li><code>onEnter(movable, direction?)</code> / <code>onExit(movable, direction?)</code> — event hooks</li>
</ul>
<h2 id="dungeon-registry" class="tsd-anchor-link">Dungeon Registry<a href="#dungeon-registry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Dungeons with an <code>id</code> are automatically registered in <code>DUNGEON_REGISTRY</code> for global lookup. This enables serialization, persistent references, and cross-dungeon navigation.</p>
<pre><code class="ts"><span class="hl-6">// Create a dungeon with an ID</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">dungeon</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">Dungeon</span><span class="hl-1">({</span><br/><span class="hl-1">	</span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">&quot;midgar&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">dimensions:</span><span class="hl-1"> { </span><span class="hl-4">width:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">height:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">layers:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// Look it up from anywhere</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">found</span><span class="hl-1"> = </span><span class="hl-5">getDungeonById</span><span class="hl-1">(</span><span class="hl-7">&quot;midgar&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-4">found</span><span class="hl-1"> === </span><span class="hl-4">dungeon</span><span class="hl-1">); </span><span class="hl-6">// true</span>
</code><button type="button">Copy</button></pre>

<h2 id="room-references" class="tsd-anchor-link">Room References<a href="#room-references" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>getRoomByRef()</code> function provides a convenient way to look up rooms across all registered dungeons using a string-based reference format.</p>
<h3 id="format" class="tsd-anchor-link">Format<a href="#format" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Room references use the pattern: <code>@dungeon-id{x,y,z}</code></p>
<ul>
<li><code>@</code> — Required prefix indicating a room reference</li>
<li><code>dungeon-id</code> — The ID of the dungeon (must be registered)</li>
<li><code>{x,y,z}</code> — The room coordinates enclosed in braces</li>
</ul>
<h3 id="examples-1" class="tsd-anchor-link">Examples<a href="#examples-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-6">// Create a registered dungeon</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">dungeon</span><span class="hl-1"> = </span><span class="hl-4">Dungeon</span><span class="hl-1">.</span><span class="hl-5">generateEmptyDungeon</span><span class="hl-1">({</span><br/><span class="hl-1">	</span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">&quot;midgar&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">dimensions:</span><span class="hl-1"> { </span><span class="hl-4">width:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">height:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">layers:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// Look up a specific room using a reference string</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1"> = </span><span class="hl-5">getRoomByRef</span><span class="hl-1">(</span><span class="hl-7">&quot;@midgar{5,3,1}&quot;</span><span class="hl-1">);</span><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-4">room</span><span class="hl-1">) {</span><br/><span class="hl-1">	</span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">`Found room at </span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">x</span><span class="hl-0">}</span><span class="hl-7">,</span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">y</span><span class="hl-0">}</span><span class="hl-7">,</span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">z</span><span class="hl-0">}</span><span class="hl-7">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="use-cases" class="tsd-anchor-link">Use Cases<a href="#use-cases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Room references are particularly useful for:</p>
<ul>
<li>
<p><strong>Configuration files</strong>: Define spawn points, quest locations, or teleport destinations</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;spawnPoint&quot;</span><span class="hl-1">: </span><span class="hl-7">&quot;@town{5,5,0}&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;questLocations&quot;</span><span class="hl-1">: [</span><span class="hl-7">&quot;@dungeon{3,7,2}&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;@forest{10,15,0}&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Teleport commands</strong>: Allow players or admins to jump to specific locations</p>
<pre><code class="ts"><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-5">teleport</span><span class="hl-1">(</span><span class="hl-4">player</span><span class="hl-1">: </span><span class="hl-2">Movable</span><span class="hl-1">, </span><span class="hl-4">roomRef</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">destination</span><span class="hl-1"> = </span><span class="hl-5">getRoomByRef</span><span class="hl-1">(</span><span class="hl-4">roomRef</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-4">destination</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">destination</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-4">player</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Serialization</strong>: Save and restore object locations across game sessions</p>
<pre><code class="ts"><span class="hl-6">// Save</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">savedLocation</span><span class="hl-1"> = </span><span class="hl-7">`@</span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">dungeon</span><span class="hl-10">?.</span><span class="hl-4">id</span><span class="hl-0">}</span><span class="hl-7">{</span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">x</span><span class="hl-0">}</span><span class="hl-7">,</span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">y</span><span class="hl-0">}</span><span class="hl-7">,</span><span class="hl-0">${</span><span class="hl-4">room</span><span class="hl-10">.</span><span class="hl-4">z</span><span class="hl-0">}</span><span class="hl-7">}`</span><span class="hl-1">;</span><br/><br/><span class="hl-6">// Load</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1"> = </span><span class="hl-5">getRoomByRef</span><span class="hl-1">(</span><span class="hl-4">savedLocation</span><span class="hl-1">);</span><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-4">room</span><span class="hl-1">) </span><span class="hl-4">player</span><span class="hl-1">.</span><span class="hl-5">move</span><span class="hl-1">(</span><span class="hl-4">room</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Room links</strong>: Create portals to specific destinations defined in data files</p>
<pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">exitRoom</span><span class="hl-1"> = </span><span class="hl-4">dungeon</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">9</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">9</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">destination</span><span class="hl-1"> = </span><span class="hl-5">getRoomByRef</span><span class="hl-1">(</span><span class="hl-7">&quot;@nextArea{0,0,0}&quot;</span><span class="hl-1">);</span><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-4">destination</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">exitRoom</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">EAST</span><span class="hl-1">, </span><span class="hl-4">destination</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
<h2 id="objects-and-movables" class="tsd-anchor-link">Objects and Movables<a href="#objects-and-movables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>DungeonObject</code> is the base for items and containers. <code>Movable</code> extends it with movement helpers and coordinate caching.</p>
<h3 id="examples-2" class="tsd-anchor-link">Examples<a href="#examples-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">sword</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">DungeonObject</span><span class="hl-1">({ </span><span class="hl-4">keywords:</span><span class="hl-1"> </span><span class="hl-7">&quot;sword blade&quot;</span><span class="hl-1">, </span><span class="hl-4">display:</span><span class="hl-1"> </span><span class="hl-7">&quot;a sword&quot;</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">player</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">Movable</span><span class="hl-1">();</span><br/><span class="hl-4">player</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-4">sword</span><span class="hl-1">); </span><span class="hl-6">// sword added to player&#39;s inventory</span><br/><span class="hl-4">room</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-4">player</span><span class="hl-1">); </span><span class="hl-6">// player added to room</span><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-4">player</span><span class="hl-1">.</span><span class="hl-5">canStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">)) </span><span class="hl-4">player</span><span class="hl-1">.</span><span class="hl-5">step</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="location-contents" class="tsd-anchor-link">Location &lt;-&gt; Contents<a href="#location-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>A <code>DungeonObject</code>'s location is always another <code>DungeonObject</code> or <code>undefined</code>. When it is another <code>DungeonObject</code>, there is a reciprocal relationship between <code>DungeonObject</code> <code>A</code> (the container) and <code>DungeonObject</code> <code>B</code> (the contained object). <code>A</code> must always have <code>B</code> in its <code>contents</code>, and <code>B</code> must always have its location set to <code>A</code>. If either relationship changes, the other must change accordingly.</p>
<pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">A</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">DungeonObject</span><span class="hl-1">();</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">B</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">DungeonObject</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// changing location</span><br/><span class="hl-3">B</span><span class="hl-1">.</span><span class="hl-4">location</span><span class="hl-1"> = </span><span class="hl-3">A</span><span class="hl-1">;</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">A</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">)); </span><span class="hl-6">// must be true</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">.</span><span class="hl-4">location</span><span class="hl-1"> === </span><span class="hl-3">A</span><span class="hl-1">); </span><span class="hl-6">// must be true</span><br/><br/><span class="hl-6">// adding to contents</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">C</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">DungeonObject</span><span class="hl-1">();</span><br/><span class="hl-3">C</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">);</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">C</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">)); </span><span class="hl-6">// must be true</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">.</span><span class="hl-4">location</span><span class="hl-1"> === </span><span class="hl-3">C</span><span class="hl-1">); </span><span class="hl-6">// must be true</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">A</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">) === </span><span class="hl-0">false</span><span class="hl-1">); </span><span class="hl-6">// must be false</span><br/><br/><span class="hl-6">// using move()</span><br/><span class="hl-3">B</span><span class="hl-1">.</span><span class="hl-5">move</span><span class="hl-1">(</span><span class="hl-3">A</span><span class="hl-1">);</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">A</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">)); </span><span class="hl-6">// must be true</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">.</span><span class="hl-4">location</span><span class="hl-1"> === </span><span class="hl-3">A</span><span class="hl-1">); </span><span class="hl-6">// must be true</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-3">C</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-3">B</span><span class="hl-1">) === </span><span class="hl-0">false</span><span class="hl-1">); </span><span class="hl-6">// must be false</span>
</code><button type="button">Copy</button></pre>

<h3 id="dungeon-tracking" class="tsd-anchor-link">Dungeon Tracking<a href="#dungeon-tracking" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When an object is placed in a room (or any container within a dungeon hierarchy), it and all its contents are automatically tracked by the dungeon:</p>
<pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">chest</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">DungeonObject</span><span class="hl-1">({ </span><span class="hl-4">keywords:</span><span class="hl-1"> </span><span class="hl-7">&quot;chest&quot;</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">coin</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">DungeonObject</span><span class="hl-1">({ </span><span class="hl-4">keywords:</span><span class="hl-1"> </span><span class="hl-7">&quot;coin&quot;</span><span class="hl-1"> });</span><br/><span class="hl-4">chest</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-4">coin</span><span class="hl-1">);</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1"> = </span><span class="hl-4">dungeon</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><span class="hl-4">room</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-4">chest</span><span class="hl-1">);</span><br/><br/><span class="hl-6">// Both chest and coin are now tracked by the dungeon</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">dungeon</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-4">chest</span><span class="hl-1">)); </span><span class="hl-6">// true</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">dungeon</span><span class="hl-1">.</span><span class="hl-5">contains</span><span class="hl-1">(</span><span class="hl-4">coin</span><span class="hl-1">)); </span><span class="hl-6">// true</span><br/><br/><span class="hl-6">// Get all objects in the dungeon (rooms + objects)</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">allObjects</span><span class="hl-1"> = </span><span class="hl-4">dungeon</span><span class="hl-1">.</span><span class="hl-4">contents</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>When moving objects between dungeons, all nested contents update their dungeon references automatically.</p>
<h2 id="room-links-portalstunnels" class="tsd-anchor-link">Room links (portals/tunnels)<a href="#room-links-portalstunnels" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Create non-Euclidean room links with support for both two-way tunnels and one-way portals.</p>
<ul>
<li><code>RoomLink.createTunnel(fromRoom, direction, toRoom, oneWay = false)</code>
<ul>
<li>Creates and registers a link between two rooms</li>
<li><code>direction</code> is the direction on <code>fromRoom</code> that leads to <code>toRoom</code></li>
<li>If <code>oneWay</code> is true, the link only works from <code>fromRoom</code> -&gt; <code>toRoom</code> (no return path)</li>
<li>Otherwise, creates a bidirectional tunnel with automatic reverse direction</li>
</ul>
</li>
</ul>
<h3 id="examples-3" class="tsd-anchor-link">Examples<a href="#examples-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="two-way-link-tunnel" class="tsd-anchor-link">Two-way link (tunnel)<a href="#two-way-link-tunnel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-6">// Moving NORTH from roomA takes you to roomB</span><br/><span class="hl-6">// Moving SOUTH from roomB returns you to roomA</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">link</span><span class="hl-1"> = </span><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">roomA</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">, </span><span class="hl-4">roomB</span><span class="hl-1">);</span><br/><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">roomA</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">) === </span><span class="hl-4">roomB</span><span class="hl-1">);</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">roomB</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">SOUTH</span><span class="hl-1">) === </span><span class="hl-4">roomA</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="one-way-link-portal" class="tsd-anchor-link">One-way link (portal)<a href="#one-way-link-portal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-6">// Moving EAST from roomA goes to roomB</span><br/><span class="hl-6">// But moving WEST from roomB does NOT return to roomA</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">oneWay</span><span class="hl-1"> = </span><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">roomA</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">EAST</span><span class="hl-1">, </span><span class="hl-4">roomB</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">);</span><br/><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">roomA</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">EAST</span><span class="hl-1">) === </span><span class="hl-4">roomB</span><span class="hl-1">);</span><br/><span class="hl-4">assert</span><span class="hl-1">.</span><span class="hl-5">notStrictEqual</span><span class="hl-1">(</span><span class="hl-4">roomB</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">WEST</span><span class="hl-1">), </span><span class="hl-4">roomA</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="cross-dungeon-links" class="tsd-anchor-link">Cross-dungeon links<a href="#cross-dungeon-links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-6">// Links work between rooms in different dungeons</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">dungeonA</span><span class="hl-1"> = </span><span class="hl-4">Dungeon</span><span class="hl-1">.</span><span class="hl-5">generateEmptyDungeon</span><span class="hl-1">({ </span><br/><span class="hl-1">	</span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">&quot;overworld&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">dimensions:</span><span class="hl-1"> { </span><span class="hl-4">width:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">height:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-4">layers:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1"> } </span><br/><span class="hl-1">});</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">dungeonB</span><span class="hl-1"> = </span><span class="hl-4">Dungeon</span><span class="hl-1">.</span><span class="hl-5">generateEmptyDungeon</span><span class="hl-1">({ </span><br/><span class="hl-1">	</span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-7">&quot;underworld&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	</span><span class="hl-4">dimensions:</span><span class="hl-1"> { </span><span class="hl-4">width:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-4">height:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-4">layers:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1"> } </span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">entrance</span><span class="hl-1"> = </span><span class="hl-4">dungeonA</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">cave</span><span class="hl-1"> = </span><span class="hl-4">dungeonB</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">// Create a portal between dungeons</span><br/><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">entrance</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">DOWN</span><span class="hl-1">, </span><span class="hl-4">cave</span><span class="hl-1">);</span><br/><br/><span class="hl-6">// Player can now traverse between dungeons</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">player</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-5">Movable</span><span class="hl-1">();</span><br/><span class="hl-4">entrance</span><span class="hl-1">.</span><span class="hl-5">add</span><span class="hl-1">(</span><span class="hl-4">player</span><span class="hl-1">);</span><br/><span class="hl-4">player</span><span class="hl-1">.</span><span class="hl-5">step</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">DOWN</span><span class="hl-1">); </span><span class="hl-6">// Now in dungeonB</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">player</span><span class="hl-1">.</span><span class="hl-4">dungeon</span><span class="hl-1"> === </span><span class="hl-4">dungeonB</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="notes-details" class="tsd-anchor-link">Notes &amp; details<a href="#notes-details" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>The <code>RoomLink</code> instance exposes <code>getDestination(fromRoom, direction)</code> which is used by <code>Room.getStep()</code> when resolving linked rooms</li>
<li>Permission checks (<code>canEnter</code>/<code>canExit</code>) remain the responsibility of movement logic in <code>Movable</code></li>
<li>Calling <code>remove()</code> on a link detaches it from both rooms — the operation is idempotent</li>
<li>Multiple links can exist on the same room in different directions</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#mud-dungeon-system"><span>MUD <wbr/>Dungeon <wbr/>System</span></a><ul><li><a href="#directional-movement"><span>Directional movement</span></a></li><li><ul><li><a href="#examples"><span>Examples</span></a></li></ul></li><li><a href="#dungeon-and-rooms"><span>Dungeon and <wbr/>Rooms</span></a></li><li><a href="#dungeon-registry"><span>Dungeon <wbr/>Registry</span></a></li><li><a href="#room-references"><span>Room <wbr/>References</span></a></li><li><ul><li><a href="#format"><span>Format</span></a></li><li><a href="#examples-1"><span>Examples</span></a></li><li><a href="#use-cases"><span>Use <wbr/>Cases</span></a></li></ul></li><li><a href="#objects-and-movables"><span>Objects and <wbr/>Movables</span></a></li><li><ul><li><a href="#examples-2"><span>Examples</span></a></li></ul></li><li><a href="#location-contents"><span>Location &lt;-<wbr/>&gt; <wbr/>Contents</span></a></li><li><ul><li><a href="#dungeon-tracking"><span>Dungeon <wbr/>Tracking</span></a></li></ul></li><li><a href="#room-links-portalstunnels"><span>Room links (portals/tunnels)</span></a></li><li><ul><li><a href="#examples-3"><span>Examples</span></a></li><li><ul><li><a href="#two-way-link-tunnel"><span>Two-<wbr/>way link (tunnel)</span></a></li><li><a href="#one-way-link-portal"><span>One-<wbr/>way link (portal)</span></a></li><li><a href="#cross-dungeon-links"><span>Cross-<wbr/>dungeon links</span></a></li></ul></li><li><a href="#notes-details"><span>Notes &amp; details</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">MUD Dungeon System - v1.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
