<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>RoomLink | MUD Dungeon System - v1.0.0</title><meta name="description" content="Documentation for MUD Dungeon System"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">MUD Dungeon System - v1.0.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">RoomLink</a></li></ul><h1>Class RoomLink</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Represents a bidirectional portal between two rooms.
Links override normal spatial relationships to create connections
between any two rooms, regardless of their position in their respective dungeons.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">// Create a portal between Midgar and Sector 7</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">midgarRoom</span><span class="hl-1"> = </span><span class="hl-4">midgarDungeon</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">sectorRoom</span><span class="hl-1"> = </span><span class="hl-4">sector7Dungeon</span><span class="hl-1">.</span><span class="hl-5">getRoom</span><span class="hl-1">({ </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-4">z:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1"> });</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">link</span><span class="hl-1"> = </span><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">midgarRoom</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">, </span><span class="hl-4">sectorRoom</span><span class="hl-1">);</span><br/><br/><span class="hl-6">// The rooms are now connected via these directions</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">midgarRoom</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">) === </span><span class="hl-4">sectorRoom</span><span class="hl-1">);</span><br/><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-4">sectorRoom</span><span class="hl-1">.</span><span class="hl-5">getStep</span><span class="hl-1">(</span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">SOUTH</span><span class="hl-1">) === </span><span class="hl-4">midgarRoom</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud-dungeon-template/blob/c219105e28656de978b06f930fb383e186cbef54/src/dungeon.ts#L1869">dungeon.ts:1869</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#getdestination" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Destination</span></a>
<a href="#remove" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove</span></a>
<a href="#createtunnel" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Tunnel</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getdestination"><span>get<wbr/>Destination</span><a href="#getdestination" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getdestination-1"><span class="tsd-kind-call-signature">getDestination</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fromRoom</span><span class="tsd-signature-symbol">:</span> <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">direction</span><span class="tsd-signature-symbol">:</span> <a href="../enums/DIRECTION.html" class="tsd-signature-type tsd-kind-enum">DIRECTION</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><a href="#getdestination-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Resolve the linked destination when moving from <code>fromRoom</code> in <code>direction</code>.</p>
<p>The Room class calls this method while evaluating <code>getStep()</code> so it can
discover linked rooms that override spatial adjacency. The resolution
rules are straightforward:</p>
<ul>
<li>If <code>fromRoom</code> matches the link's <code>_from.room</code> and <code>direction</code> equals
<code>_from.direction</code>, return <code>_to.room</code>.</li>
<li>If the link is two-way and <code>fromRoom</code> matches <code>_to.room</code> with
<code>direction === _to.direction</code>, return <code>_from.room</code>.</li>
<li>Otherwise return <code>undefined</code> to indicate this link does not handle the
requested traversal.</li>
</ul>
<p>This method does not perform permission checks (canEnter/canExit) â€” it
only resolves spatial/linked connectivity. Permission checks are done
by the calling code (e.g., Movable.canStep).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fromRoom</span>: <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a></span><div class="tsd-comment tsd-typography"><p>The room where traversal begins</p>
</div></li><li><span><span class="tsd-kind-parameter">direction</span>: <a href="../enums/DIRECTION.html" class="tsd-signature-type tsd-kind-enum">DIRECTION</a></span><div class="tsd-comment tsd-typography"><p>The direction of traversal</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span></h4><p>The destination <code>Room</code> if this link handles the traversal, otherwise <code>undefined</code></p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud-dungeon-template/blob/c219105e28656de978b06f930fb383e186cbef54/src/dungeon.ts#L2005">dungeon.ts:2005</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="remove"><span>remove</span><a href="#remove" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="remove-1"><span class="tsd-kind-call-signature">remove</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#remove-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove this link from both connected rooms.</p>
<p>This method detaches the link from any room that currently has it. The
operation is idempotent and safe to call multiple times: <code>removeLink</code>
on the rooms will simply ignore links that are not present.</p>
<p>After calling <code>remove()</code> there are no references to this link left in
the connected rooms' _links arrays, but the RoomLink object itself is
not modified further â€” callers may keep or discard the instance as they
wish.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud-dungeon-template/blob/c219105e28656de978b06f930fb383e186cbef54/src/dungeon.ts#L2033">dungeon.ts:2033</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="createtunnel"><code class="tsd-tag">Static</code><span>create<wbr/>Tunnel</span><a href="#createtunnel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="createtunnel-1"><span class="tsd-kind-call-signature">createTunnel</span><span class="tsd-signature-symbol">(</span><br/>Â Â Â Â <span class="tsd-kind-parameter">fromRoom</span><span class="tsd-signature-symbol">:</span> <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a><span class="tsd-signature-symbol">,</span><br/>Â Â Â Â <span class="tsd-kind-parameter">direction</span><span class="tsd-signature-symbol">:</span> <a href="../enums/DIRECTION.html" class="tsd-signature-type tsd-kind-enum">DIRECTION</a><span class="tsd-signature-symbol">,</span><br/>Â Â Â Â <span class="tsd-kind-parameter">toRoom</span><span class="tsd-signature-symbol">:</span> <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a><span class="tsd-signature-symbol">,</span><br/>Â Â Â Â <span class="tsd-kind-parameter">oneWay</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">RoomLink</a><a href="#createtunnel-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create and register a RoomLink between two rooms.</p>
<p>This factory is the recommended way to create links because it performs
the necessary registration with the provided Room instances and infers
the reverse direction automatically. It never mutates the rooms in a way
that breaks invariants: the link is added to the <code>_from.room</code> and,
unless <code>oneWay</code> is true, also to the <code>_to.room</code>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fromRoom</span>: <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a></span><div class="tsd-comment tsd-typography"><p>The room which will act as the source endpoint</p>
</div></li><li><span><span class="tsd-kind-parameter">direction</span>: <a href="../enums/DIRECTION.html" class="tsd-signature-type tsd-kind-enum">DIRECTION</a></span><div class="tsd-comment tsd-typography"><p>The direction (on <code>fromRoom</code>) that will lead to <code>toRoom</code></p>
</div></li><li><span><span class="tsd-kind-parameter">toRoom</span>: <a href="Room.html" class="tsd-signature-type tsd-kind-class">Room</a></span><div class="tsd-comment tsd-typography"><p>The room which will act as the destination endpoint</p>
</div></li><li><span><span class="tsd-kind-parameter">oneWay</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></span><div class="tsd-comment tsd-typography"><p>When true only <code>fromRoom</code> will register the link; traversal back from <code>toRoom</code> will not use this link</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">RoomLink</a></h4><p>The created RoomLink instance (already registered on the appropriate rooms)</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-6">// Two-way link: moving NORTH from roomA goes to roomB, and moving SOUTH from roomB returns to roomA</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">link</span><span class="hl-1"> = </span><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">roomA</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">NORTH</span><span class="hl-1">, </span><span class="hl-4">roomB</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-6">// One-way link: moving EAST from roomA goes to roomB, but moving WEST from roomB does not return to roomA</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">oneWay</span><span class="hl-1"> = </span><span class="hl-4">RoomLink</span><span class="hl-1">.</span><span class="hl-5">createTunnel</span><span class="hl-1">(</span><span class="hl-4">roomA</span><span class="hl-1">, </span><span class="hl-3">DIRECTION</span><span class="hl-1">.</span><span class="hl-3">EAST</span><span class="hl-1">, </span><span class="hl-4">roomB</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud-dungeon-template/blob/c219105e28656de978b06f930fb383e186cbef54/src/dungeon.ts#L1960">dungeon.ts:1960</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#getdestination"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Destination</span></a><a href="#remove"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove</span></a><a href="#createtunnel"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Tunnel</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">MUD Dungeon System - v1.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
